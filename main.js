(()=>{const e=document.getElementById("name"),t=document.getElementById("temp"),n=(document.getElementById("main"),document.getElementById("desc")),o=document.getElementById("search-button"),c=document.getElementById("search-bar"),a=document.getElementById("image"),d=document.createElement("img"),r=document.createElement("img");async function i(o){const c=await fetch("https://api.openweathermap.org/data/2.5/weather?q="+o+"&units=metric&APPID=1b5148ce2b26ec158cbc87c179c39564",{mode:"cors"});!function(o){const{name:c}=o,{main:d,description:r,icon:i}=o.weather[0],{temp:b}=o.main,y=`http://openweathermap.org/img/wn/${i}@2x.png`;e.innerText=c,t.innerText=Math.round(b)+"Â°",n.innerText=r[0].toUpperCase()+r.slice(1),a.src=y;let p=/..d/;const f=p.test(i)?"day":"night";(function(e,t,n){switch(e){case"Clear":!function(e){u(e),l(e)}(n);break;case"Clouds":s(t,n);break;case"Drizzle":case"Rain":m(),g();break;case"Snow":document.body.style.backgroundColor="#F9F7F3";break;case"Thunderstorm":m();break;case"Haze":s(n)}})(d,r,f),console.log(c,d,r,b,y,i,f,p)}(await c.json())}function s(e,t){"few clouds"===e||"scattered clouds"===e?(u(t),l(t),g()):(m(t),g())}function u(e){document.body.style.background="day"===e?"linear-gradient(to bottom, #2589BD, #B5E2FA)":"linear-gradient(to bottom, #121420, #2C2B3C)"}function m(e){document.body.style.background="day"===e?"linear-gradient(to bottom, #808F9D, #E2DFE0)":"linear-gradient(to bottom, #1D2020, #2C333A)"}function l(e){console.log(e),"day"===e?(d.setAttribute("id","sun"),d.src="./lensflare.png",r.src=""):(d.setAttribute("id","star"),d.src="./astroid.svg",r.setAttribute("id","star2"),r.src="./astroid.svg")}function g(){d.setAttribute("id","cloud"),d.src="./cloud.svg",r.setAttribute("id","cloud2"),r.src="./cloud.svg"}function b(){i(c.value),c.value=""}document.body.appendChild(d),document.body.appendChild(r),o.addEventListener("click",(function(){b()})),c.addEventListener("keyup",(function(e){"Enter"==e.key&&b()})),i("los angeles")})();