(()=>{const e=document.getElementById("name"),t=document.getElementById("temp"),n=(document.getElementById("main"),document.getElementById("desc")),o=document.getElementById("search-button"),c=document.getElementById("search-bar"),a=document.getElementById("image"),d=document.createElement("img"),i=document.createElement("img");async function r(o){const c=await fetch("https://api.openweathermap.org/data/2.5/weather?q="+o+"&units=metric&APPID=1b5148ce2b26ec158cbc87c179c39564",{mode:"cors"});!function(o){const{name:c}=o,{main:r,description:g,icon:b}=o.weather[0],{temp:y}=o.main,p=`http://openweathermap.org/img/wn/${b}@2x.png`;e.innerText=c,t.innerText=Math.round(y)+"Â°",n.innerText=g[0].toUpperCase()+g.slice(1),a.src=p;let h=/..d/;const f=h.test(b)?"day":"night";(function(e,t,n){switch(e){case"Clear":!function(e){u(e),function(e){"day"===e?(d.setAttribute("id","sun"),d.src="./lensflare.png"):(d.setAttribute("id","night"),d.src="",i.src="")}(e)}(n);break;case"Clouds":s(t,n);break;case"Drizzle":case"Rain":m(),l();break;case"Snow":document.body.style.backgroundColor="#F9F7F3";break;case"Thunderstorm":m();break;case"Haze":s(n)}})(r,g,f),console.log(c,r,g,y,p,b,f,h)}(await c.json())}function s(e,t){"few clouds"===e||"scattered clouds"===e?(u(t),l()):(m(t),l())}function u(e){document.body.style.background="day"===e?"linear-gradient(to bottom, #2589BD, #B5E2FA)":"linear-gradient(to bottom, #121420, #2C2B3C)"}function m(e){document.body.style.background="day"===e?"linear-gradient(to bottom, #808F9D, #E2DFE0)":"linear-gradient(to bottom, #1D2020, #2C333A)"}function l(){d.setAttribute("id","cloud"),d.src="./cloud.svg",i.setAttribute("id","cloud2"),i.src="./cloud.svg"}function g(){r(c.value),c.value=""}document.body.appendChild(d),document.body.appendChild(i),o.addEventListener("click",(function(){g()})),c.addEventListener("keyup",(function(e){"Enter"==e.key&&g()})),r("las vegas")})();